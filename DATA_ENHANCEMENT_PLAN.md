# 数据增强方案 - 学术研究扩展

## 📊 当前数据局限性分析

### 现有数据字段
```
- id: 内容ID
- title: 标题
- desc: 描述
- cover: 封面图
- author: 作者/来源
- timestamp: 时间戳
- hot: 热度值
- url: 链接
- mobileUrl: 移动端链接
```

### 学术研究的不足
1. **缺乏时序数据** - 无法追踪热搜变化趋势
2. **缺乏内容分析** - 无法进行文本挖掘和情感分析
3. **缺乏用户互动** - 无法分析传播机制
4. **缺乏跨平台关联** - 无法研究跨平台传播
5. **缺乏元数据** - 无法做深度分类和标注

## 🎯 学术研究可以扩展的方向

### 一、时序分析维度

#### 1. 热度变化追踪
```python
扩展数据结构:
{
  "热搜ID": "unique_id",
  "首次出现时间": "2025-10-23 10:00:00",
  "最后出现时间": "2025-10-23 18:00:00",
  "持续时长": 8小时,
  "排名历史": [
    {"时间": "10:00", "排名": 15, "热度": 10000},
    {"时间": "11:00", "排名": 8, "热度": 50000},
    {"时间": "12:00", "排名": 3, "热度": 150000}
  ],
  "热度增长率": "+1400%",
  "生命周期阶段": "爆发期"
}
```

**学术价值**:
- 研究热点话题的生命周期模型
- 分析热度传播的时间规律
- 预测热点话题的发展趋势

#### 2. 时间粒度数据
- 按小时采集（当前已实现）
- 可分析昼夜规律
- 可研究周期性模式

### 二、内容深度分析维度

#### 1. 文本特征提取
```python
扩展字段:
{
  "标题长度": 25,
  "关键词": ["游戏", "PV", "首曝"],
  "命名实体": {
    "人物": ["网易"],
    "组织": ["网易"],
    "地点": [],
    "游戏": ["逆水寒", "十三元凶：生死弈"]
  },
  "话题标签": ["#游戏", "#网易", "#新游戏"],
  "语言": "zh-CN"
}
```

**实现方式**:
- 使用 jieba 分词
- 使用 LAC (Baidu) 做命名实体识别
- 使用 TF-IDF 提取关键词

#### 2. 情感分析
```python
扩展字段:
{
  "情感倾向": "正面",
  "情感得分": 0.85,
  "情绪类型": ["期待", "兴奋"],
  "主观性": 0.6
}
```

**实现方式**:
- SnowNLP 中文情感分析
- 百度情感倾向API
- BERT中文情感分类模型

#### 3. 内容分类
```python
扩展字段:
{
  "一级分类": "娱乐",
  "二级分类": "游戏",
  "三级分类": "手机游戏",
  "内容类型": "宣传",
  "话题性质": "商业推广",
  "是否敏感": false
}
```

### 三、用户互动维度

#### 1. 基础互动指标
```python
扩展字段:
{
  "阅读量": 1500000,
  "点赞数": 68000,
  "评论数": 3200,
  "分享数": 12000,
  "收藏数": 8500,
  "互动率": 6.1%,
  "互动质量": "高"
}
```

**获取方式**:
- B站: 通过API获取视频统计数据
- 微博: 爬取微博详情页
- 知乎: 知乎API或爬虫

#### 2. 评论分析（深度挖掘）
```python
扩展字段:
{
  "热门评论": [
    {
      "内容": "评论文本",
      "点赞数": 5000,
      "作者": "用户昵称",
      "时间": "2025-10-23 12:00"
    }
  ],
  "评论情感分布": {
    "正面": 65%,
    "中性": 25%,
    "负面": 10%
  },
  "评论关键词": ["期待", "好玩", "画质"],
  "评论活跃度": "高"
}
```

### 四、跨平台关联维度

#### 1. 话题匹配
```python
扩展字段:
{
  "相关热搜": [
    {
      "平台": "微博",
      "标题": "逆水寒新游戏",
      "热度": 250000,
      "相似度": 0.92
    },
    {
      "平台": "知乎",
      "标题": "如何评价网易新游戏",
      "热度": 85000,
      "相似度": 0.78
    }
  ],
  "跨平台总热度": 6816884,
  "主导平台": "哔哩哔哩",
  "传播路径": "B站 -> 微博 -> 知乎"
}
```

**实现方式**:
- 文本相似度匹配（余弦相似度）
- 关键词交集分析
- 时间序列关联分析

#### 2. 传播网络分析
```python
扩展字段:
{
  "传播节点": ["哔哩哔哩", "微博", "知乎", "贴吧"],
  "传播时差": [0, 2小时, 4小时, 6小时],
  "传播衰减系数": 0.85,
  "传播深度": 3级
}
```

### 五、元数据和上下文

#### 1. 时间上下文
```python
扩展字段:
{
  "星期": "周三",
  "是否节假日": false,
  "是否周末": false,
  "时段": "午间",
  "季节": "秋季",
  "重大事件": null
}
```

#### 2. 平台特征
```python
扩展字段:
{
  "平台类型": "视频平台",
  "平台用户画像": "年轻人为主",
  "平台日活": "3亿+",
  "该平台热搜总数": 100
}
```

## 🛠️ 技术实现方案

### 方案一：增强当前API数据

**优点**: 简单，无需额外爬虫
**缺点**: 受限于API提供的字段

```python
# 1. 添加时序追踪
class HotSearchTracker:
    def track_changes(self, current_data, history_data):
        # 对比历史数据，计算排名变化
        # 计算热度增长率
        # 识别生命周期阶段
        pass

# 2. 添加文本分析
import jieba.analyse
from snownlp import SnowNLP

def analyze_text(title, desc):
    # 关键词提取
    keywords = jieba.analyse.extract_tags(title + desc, topK=5)

    # 情感分析
    sentiment = SnowNLP(title + desc).sentiments

    return {
        'keywords': keywords,
        'sentiment_score': sentiment
    }
```

### 方案二：爬取详情页补充数据

**优点**: 获取更多互动数据
**缺点**: 需要处理反爬，速度较慢

```python
# B站视频详情爬取
def fetch_bilibili_details(bvid):
    api = f'https://api.bilibili.com/x/web-interface/view?bvid={bvid}'
    data = requests.get(api).json()
    return {
        'view': data['data']['stat']['view'],      # 播放量
        'like': data['data']['stat']['like'],      # 点赞数
        'coin': data['data']['stat']['coin'],      # 投币数
        'favorite': data['data']['stat']['favorite'], # 收藏数
        'reply': data['data']['stat']['reply'],    # 评论数
        'share': data['data']['stat']['share']     # 分享数
    }

# 微博详情爬取
def fetch_weibo_details(mid):
    # 需要处理登录和反爬
    pass
```

### 方案三：构建历史数据库

**优点**: 支持长期研究
**缺点**: 需要数据库支持

```python
# 使用SQLite存储历史数据
import sqlite3

class HotSearchDB:
    def __init__(self):
        self.conn = sqlite3.connect('hotsearch.db')
        self.create_tables()

    def create_tables(self):
        # 热搜表
        # 历史记录表
        # 统计分析表
        pass

    def insert_hotsearch(self, data):
        # 插入新数据
        # 更新排名历史
        pass

    def query_trend(self, keyword, days=7):
        # 查询关键词趋势
        pass
```

## 📈 学术研究应用场景

### 1. 传播学研究
- **话题扩散模型**: 研究热点话题如何在不同平台间传播
- **时间衰减规律**: 分析热度随时间的变化规律
- **影响因子分析**: 什么因素影响话题热度

### 2. 舆情分析
- **情感演变**: 追踪公众情感变化
- **舆论导向**: 识别舆论引导模式
- **危机预警**: 预测潜在的舆情危机

### 3. 社会学研究
- **公众关注焦点**: 不同时期社会关注点
- **群体画像**: 不同平台用户特征
- **文化现象**: 网络文化传播规律

### 4. 计算机科学
- **推荐算法**: 热搜推荐机制
- **自然语言处理**: 文本分析和理解
- **机器学习**: 热度预测模型

### 5. 经济学/营销学
- **营销效果**: 评估营销活动影响
- **品牌监测**: 品牌热度追踪
- **市场趋势**: 消费趋势预测

## 🎓 推荐的扩展优先级

### 第一优先级（立即实现）
1. ✅ **时序追踪** - 记录排名变化和热度趋势
2. ✅ **历史数据存储** - 使用数据库而非JSON
3. ✅ **基础文本分析** - 关键词提取和分类

### 第二优先级（短期实现）
4. **情感分析** - 分析公众情绪
5. **跨平台关联** - 识别相同话题
6. **基础统计** - 日报、周报生成

### 第三优先级（长期规划）
7. **详情页爬取** - 获取互动数据
8. **评论分析** - 深度舆情挖掘
9. **预测模型** - 基于机器学习的预测

## 💡 数据采集建议

### 采集频率
- **基础热搜**: 1小时一次（已实现）
- **详细数据**: 针对TOP10，6小时一次
- **历史对比**: 每天生成分析报告

### 数据存储
```
hotsearch/
├── raw_data/          # 原始JSON数据
├── database/          # SQLite数据库
│   └── hotsearch.db
├── analysis/          # 分析结果
│   ├── daily/         # 日报
│   ├── weekly/        # 周报
│   └── trends/        # 趋势图表
└── models/            # 训练的模型
```

### 数据规模估算
- 每小时原始数据: ~500KB
- 每天数据量: ~12MB
- 每月数据量: ~360MB
- 每年数据量: ~4.3GB

加上数据库索引和分析结果，建议预留 **10GB** 存储空间用于一年的数据。

## 📚 技术栈建议

### 基础功能
- `pandas` - 数据处理
- `sqlite3` - 数据存储
- `jieba` - 中文分词
- `snownlp` - 情感分析

### 高级功能
- `scikit-learn` - 文本相似度、聚类
- `matplotlib/plotly` - 数据可视化
- `transformers` - BERT模型（可选）
- `networkx` - 传播网络分析

### API服务
- 百度AI - 情感分析、实体识别
- 腾讯云NLP - 文本分类
- 阿里云NLP - 关键词提取

## 🚀 下一步行动

1. **确定研究方向** - 你具体想研究什么？
2. **选择优先功能** - 从上述方案中选择最相关的
3. **实施增强方案** - 逐步添加新功能
4. **建立数据库** - 开始积累历史数据
5. **分析和可视化** - 生成研究所需的图表和报告

## 💬 需要讨论的问题

1. **研究方向**: 你的学术研究主要关注哪个领域？
2. **数据需求**: 哪些数据字段对你最重要？
3. **时间范围**: 需要积累多长时间的数据？
4. **技术限制**: 是否有反爬虫、API限制等问题？
5. **伦理考虑**: 数据采集是否符合平台规定和学术伦理？

---

**总结**: 当前系统是一个很好的起点，但要用于学术研究，建议至少实现：
1. 时序追踪和历史数据库
2. 基础文本分析（关键词、分类）
3. 数据可视化和报告生成

这样可以支持大多数社会科学和计算机科学的研究需求。
