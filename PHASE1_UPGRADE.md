# Phase 1 æ•°æ®å¢å¼ºå‡çº§è¯´æ˜

## ğŸ‰ å‡çº§å®Œæˆï¼

å·²æˆåŠŸå®ç°Phase 1çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸ºæ—¶é—´åºåˆ—é¢„æµ‹å’Œç®—æ³•æ²»ç†ç ”ç©¶æä¾›æ›´å¼ºå¤§çš„æ•°æ®é‡‡é›†èƒ½åŠ›ã€‚

## âœ¨ æ–°å¢åŠŸèƒ½

### 1. SQLiteæ•°æ®åº“å­˜å‚¨ â­â­â­â­â­

**æ›¿ä»£JSONæ–‡ä»¶å­˜å‚¨ï¼Œæ”¯æŒé«˜æ•ˆçš„æ—¶åºæŸ¥è¯¢å’Œæ•°æ®åˆ†æ**

#### æ•°æ®åº“è¡¨ç»“æ„ï¼š
- **hotsearch_raw** - åŸå§‹çƒ­æœæ•°æ®ï¼ˆå®Œæ•´JSONä¿ç•™ï¼‰
- **ranking_history** - æ’åå†å²è¿½è¸ªï¼ˆæ—¶åºåˆ†ææ ¸å¿ƒï¼‰
- **item_details** - è¯¦æƒ…æ•°æ®ï¼ˆæ’­æ”¾é‡ã€ç‚¹èµç­‰ï¼‰
- **cross_platform** - è·¨å¹³å°å…³è”

#### æ ¸å¿ƒå­—æ®µï¼š
```python
{
    "platform": "å“”å“©å“”å“©",
    "rank_position": 1,
    "hot": 6481884,
    "collected_at": "2025-10-23 20:28:25",
    "rank_change": +5,        # æ’åå˜åŒ–
    "hot_change": +1500000,   # çƒ­åº¦å˜åŒ–
    "hot_growth_rate": 30.5   # çƒ­åº¦å¢é•¿ç‡(%)
}
```

#### æ—¶åºåˆ†æåŠŸèƒ½ï¼š
```python
from database import get_database

with get_database() as db:
    # æŸ¥è¯¢å•ä¸ªçƒ­æœçš„å†å²
    history = db.get_item_history('å“”å“©å“”å“©', 'BV1234', hours=24)

    # æŸ¥è¯¢æŒç»­ä¸Šæ¦œçš„çƒ­ç‚¹
    trending = db.get_trending_topics('å“”å“©å“”å“©', hours=24, min_appearances=5)

    # æŸ¥è¯¢æœ€å¿«ä¸Šå‡çš„çƒ­æœ
    rising = db.get_fastest_rising('å“”å“©å“”å“©', limit=10)

    # å¯¼å‡ºä¸ºCSV
    db.export_to_csv('output.csv', platform='å¾®åš', start_date='2025-10-01')
```

### 2. 30åˆ†é’Ÿé‡‡é›†é¢‘ç‡ â­â­â­â­â­

**ä»æ¯å°æ—¶1æ¬¡æå‡åˆ°æ¯30åˆ†é’Ÿ1æ¬¡ï¼Œæ•°æ®å¯†åº¦ç¿»å€**

#### é…ç½®æ–¹å¼ï¼š
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨é…ç½®æ–‡ä»¶
# ç¼–è¾‘ config.json:
{
  "scheduler": {
    "interval_minutes": 30  # æ”¹ä¸º30åˆ†é’Ÿ
  }
}

# æ–¹æ³•2ï¼šå‘½ä»¤è¡Œå‚æ•°
python3 scheduler.py --interval 30  # 30åˆ†é’Ÿé—´éš”
python3 scheduler.py --interval 15  # 15åˆ†é’Ÿé—´éš”ï¼ˆé«˜å³°æœŸï¼‰
```

#### æ•°æ®é‡æå‡ï¼š
- ä¹‹å‰: 24æ¬¡/å¤©
- ç°åœ¨: 48æ¬¡/å¤©
- æ•°æ®é‡: 12MB/å¤© â†’ 24MB/å¤©

### 3. å¤–éƒ¨APIé›†æˆ â­â­â­â­

**æ”¯æŒTwitterã€Redditã€YouTubeç­‰å›½å¤–å¹³å°æ•°æ®é‡‡é›†**

#### æ–°å¢æ¨¡å—ï¼š`external_apis.py`

```python
from external_apis import ExternalAPICrawler

crawler = ExternalAPICrawler()

# Twitterè¶‹åŠ¿
twitter_data = crawler.fetch_twitter_trends()

# Redditçƒ­é—¨
reddit_data = crawler.fetch_reddit_hot(subreddit='all')

# YouTubeè¶‹åŠ¿ï¼ˆéœ€è¦APIè°ƒæ•´ï¼‰
# youtube_data = crawler.fetch_youtube_trending()

# ä¸€æ¬¡æ€§è·å–æ‰€æœ‰
all_external = crawler.fetch_all_external()
```

#### APIé…ç½®ï¼š
å·²é›†æˆRapidAPIçš„3ä¸ªæœåŠ¡ï¼š
- Twitter Trends By Location
- ReddAPI
- Social Media Master

**æ³¨æ„**: å¤–éƒ¨APIç›®å‰é»˜è®¤å…³é—­ï¼Œéœ€è¦æ‰‹åŠ¨å¯ç”¨ï¼š
```python
crawler = HotSearchCrawler(use_external_apis=True)
```

### 4. è‡ªåŠ¨æ’åè¿½è¸ª â­â­â­â­â­

**è‡ªåŠ¨è®¡ç®—æ¯æ¡çƒ­æœçš„æ’åå’Œçƒ­åº¦å˜åŒ–**

#### è¿½è¸ªæŒ‡æ ‡ï¼š
- `rank_change` - æ’åå˜åŒ–ï¼ˆ+5è¡¨ç¤ºä¸Šå‡5ä½ï¼‰
- `hot_change` - çƒ­åº¦å˜åŒ–ï¼ˆç»å¯¹å€¼ï¼‰
- `hot_growth_rate` - çƒ­åº¦å¢é•¿ç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰

#### æŸ¥è¯¢ç¤ºä¾‹ï¼š
```python
# è·å–æœ€å¿«ä¸Šå‡çš„çƒ­æœ
rising = db.get_fastest_rising('å“”å“©å“”å“©', limit=10)

for item in rising:
    print(f"{item['title']}")
    print(f"  æ’åå˜åŒ–: +{item['rank_change']}")
    print(f"  çƒ­åº¦å¢é•¿: {item['hot_growth_rate']:.1f}%")
```

## ğŸ“Š æµ‹è¯•ç»“æœ

### æ•°æ®åº“æ€§èƒ½ï¼š
```
âœ… å•æ¬¡çˆ¬å–: 16ä¸ªå¹³å°ï¼Œ693æ¡åŸå§‹æ•°æ®ï¼Œ700æ¡å†å²è®°å½•
âœ… æ•°æ®åº“å¤§å°: 1.2MB
âœ… è€—æ—¶: 20.89ç§’
âœ… æ’å…¥æˆåŠŸç‡: 100%
```

### æ•°æ®ç»Ÿè®¡ï¼š
```
æ€»è®°å½•æ•°: 693
å†å²è®°å½•æ•°: 700
æœ€æ–°è®°å½•: 2025-10-23 20:28:25
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1ï¼šç»§ç»­ä½¿ç”¨ç°æœ‰æ–¹å¼ï¼ˆè‡ªåŠ¨å¯ç”¨æ•°æ®åº“ï¼‰

```bash
# å•æ¬¡è¿è¡Œ
python3 scheduler.py --once

# å®šæ—¶è¿è¡Œï¼ˆ30åˆ†é’Ÿé—´éš”ï¼‰
python3 scheduler.py --interval 30

# æˆ–ä½¿ç”¨è„šæœ¬
./run.sh
```

**ç°åœ¨ä¼šè‡ªåŠ¨ï¼š**
- âœ… ä¿å­˜åˆ°SQLiteæ•°æ®åº“
- âœ… ä¿å­˜åˆ°JSONæ–‡ä»¶ï¼ˆå…¼å®¹ï¼‰
- âœ… è¿½è¸ªæ’åå˜åŒ–
- âœ… æ¯30åˆ†é’Ÿè¿è¡Œä¸€æ¬¡

### æ–¹æ³•2ï¼šPythonç¼–ç¨‹æ¥å£

```python
from crawler import HotSearchCrawler
from database import get_database

# åˆ›å»ºçˆ¬è™«ï¼ˆå¯ç”¨æ‰€æœ‰æ–°åŠŸèƒ½ï¼‰
crawler = HotSearchCrawler(
    use_database=True,           # ä½¿ç”¨æ•°æ®åº“
    use_external_apis=False      # æš‚ä¸å¯ç”¨å¤–éƒ¨API
)

# è¿è¡Œä¸€æ¬¡
crawler.run_once()

# æŸ¥è¯¢æ•°æ®åº“
with get_database() as db:
    # è·å–ç»Ÿè®¡ä¿¡æ¯
    stats = db.get_statistics()
    print(f"æ€»è®°å½•æ•°: {stats['total_records']}")

    # æŸ¥è¯¢çƒ­æœå†å²
    history = db.get_item_history('å“”å“©å“”å“©', 'BV1234', hours=24)

    # å¯¼å‡ºæ•°æ®
    db.export_to_csv('hotsearch_data.csv', platform='å¾®åš')
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
çƒ­ç‚¹çˆ¬å–/
â”œâ”€â”€ database.py          â­ æ–°å¢ - æ•°æ®åº“æ¨¡å—
â”œâ”€â”€ external_apis.py     â­ æ–°å¢ - å¤–éƒ¨APIæ¨¡å—
â”œâ”€â”€ crawler.py           âœï¸ å‡çº§ - é›†æˆæ•°æ®åº“
â”œâ”€â”€ scheduler.py         âœï¸ å‡çº§ - æ”¯æŒåˆ†é’Ÿé—´éš”
â”œâ”€â”€ config.json          âœï¸ å‡çº§ - æ–°å¢é…ç½®é¡¹
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ hotsearch.db    â­ æ–°å¢ - SQLiteæ•°æ®åº“
â”‚   â”œâ”€â”€ latest.json      (ä¿ç•™)
â”‚   â””â”€â”€ hotsearch_*.json (ä¿ç•™)
â””â”€â”€ logs/
    â””â”€â”€ crawler_*.log
```

## ğŸ”§ é…ç½®è¯´æ˜

### config.json æ–°å¢é…ç½®ï¼š

```json
{
  "scheduler": {
    "interval_minutes": 30,      // æ”¹ä¸ºåˆ†é’Ÿé—´éš”
    "use_database": true          // å¯ç”¨æ•°æ®åº“
  }
}
```

## ğŸ“ˆ æ•°æ®è§„æ¨¡ä¼°ç®—

### åŸºç¡€é…ç½®ï¼ˆ30åˆ†é’Ÿé—´éš”ï¼‰ï¼š
- æ¯æ¬¡é‡‡é›†: 16å¹³å° Ã— å¹³å‡45æ¡ = 720æ¡
- æ¯å¤©: 48æ¬¡ Ã— 720æ¡ = 34,560æ¡
- æ•°æ®åº“å¤§å°: çº¦50MB/å¤©ï¼ˆåŒ…å«ç´¢å¼•ï¼‰
- æ¯æœˆ: ~1.5GB
- æ¯å¹´: ~18GB

### å»ºè®®ï¼š
- å®šæœŸæ¸…ç†3ä¸ªæœˆä»¥å‰çš„æ•°æ®
- æˆ–å¯¼å‡ºä¸ºCSVååˆ é™¤æ•°æ®åº“è®°å½•
- ä¿ç•™50GBç©ºé—´å……è¶³

## ğŸ¯ å­¦æœ¯ç ”ç©¶ä»·å€¼

### 1. æ—¶é—´åºåˆ—é¢„æµ‹ â­â­â­â­â­
- âœ… 30åˆ†é’Ÿç²’åº¦çš„æ—¶åºæ•°æ®
- âœ… å®Œæ•´çš„æ’åå†å²
- âœ… çƒ­åº¦å˜åŒ–ç‡è¿½è¸ª
- âœ… å¯å¯¼å‡ºä¸ºCSVç”¨äºæœºå™¨å­¦ä¹ 

### 2. ç®—æ³•æ²»ç†ç ”ç©¶ â­â­â­â­â­
- âœ… è§‚å¯Ÿå¹³å°æ¨èç®—æ³•è¡Œä¸º
- âœ… åˆ†ææ’åæ›´æ–°é¢‘ç‡
- âœ… ç ”ç©¶çƒ­åº¦è®¡ç®—æœºåˆ¶
- âœ… è·¨å¹³å°ç®—æ³•å¯¹æ¯”

### 3. èˆ†æƒ…åˆ†æ â­â­â­â­
- âœ… è¯é¢˜ç”Ÿå‘½å‘¨æœŸè¿½è¸ª
- âœ… çƒ­ç‚¹æ¼”å˜è·¯å¾„
- âœ… è·¨å¹³å°ä¼ æ’­åˆ†æ

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å¤–éƒ¨API
- é»˜è®¤å…³é—­ï¼ˆéœ€è¦æµ‹è¯•å’Œè°ƒæ•´ï¼‰
- RapidAPIæœ‰è¯·æ±‚é™åˆ¶
- å»ºè®®å…ˆæµ‹è¯•å†å¯ç”¨

### 2. æ•°æ®åº“ç»´æŠ¤
```python
# å®šæœŸå¤‡ä»½
cp data/hotsearch.db data/backup_$(date +%Y%m%d).db

# æŸ¥çœ‹æ•°æ®åº“å¤§å°
du -h data/hotsearch.db

# æ¸…ç†æ—§æ•°æ®ï¼ˆä¿ç•™æœ€è¿‘30å¤©ï¼‰
DELETE FROM ranking_history WHERE collected_at < datetime('now', '-30 days');
VACUUM;
```

### 3. æ€§èƒ½ä¼˜åŒ–
- æ•°æ®åº“å·²å»ºç«‹ç´¢å¼•ï¼ŒæŸ¥è¯¢æ•ˆç‡é«˜
- å»ºè®®æ¯æœˆæ¸…ç†ä¸€æ¬¡æ—§æ•°æ®
- CSVå¯¼å‡ºé€‚åˆå¤§è§„æ¨¡åˆ†æ

## ğŸ”œ ä¸‹ä¸€æ­¥è®¡åˆ’ï¼ˆPhase 2ï¼‰

1. **Bç«™è¯¦æƒ…æ•°æ®é‡‡é›†** - æ’­æ”¾é‡ã€ç‚¹èµã€è¯„è®ºç­‰
2. **æƒ…æ„Ÿåˆ†æ** - ä½¿ç”¨SnowNLPåˆ†ææ ‡é¢˜æƒ…æ„Ÿ
3. **è·¨å¹³å°å…³è”** - è‡ªåŠ¨è¯†åˆ«ç›¸åŒè¯é¢˜
4. **æ•°æ®å¯è§†åŒ–** - ç”Ÿæˆè¶‹åŠ¿å›¾è¡¨
5. **æ—¥æŠ¥/å‘¨æŠ¥** - è‡ªåŠ¨ç”Ÿæˆåˆ†ææŠ¥å‘Š

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.2.0 (2025-10-23) - Phase 1å®Œæˆ â­

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- âœ… SQLiteæ•°æ®åº“å­˜å‚¨å’Œæ—¶åºè¿½è¸ª
- âœ… 30åˆ†é’Ÿé‡‡é›†é¢‘ç‡
- âœ… å¤–éƒ¨APIé›†æˆæ¡†æ¶ï¼ˆTwitterã€Redditï¼‰
- âœ… è‡ªåŠ¨æ’åå˜åŒ–è®¡ç®—
- âœ… CSVå¯¼å‡ºåŠŸèƒ½
- âœ… æ•°æ®åº“æŸ¥è¯¢API

**å…¼å®¹æ€§ï¼š**
- âœ… å‘åå…¼å®¹ï¼Œä¿ç•™JSONæ–‡ä»¶å­˜å‚¨
- âœ… ç°æœ‰è„šæœ¬æ— éœ€ä¿®æ”¹
- âœ… å¹³æ»‘å‡çº§

---

**ç°åœ¨å¯ä»¥å¼€å§‹é•¿æœŸè¿è¡Œï¼Œç§¯ç´¯å®è´µçš„æ—¶åºæ•°æ®ï¼** ğŸš€

## ğŸ“ Phase 1.1 æ›´æ–° - å¤–éƒ¨APIé…é¢ç®¡ç† (2025-10-23)

### å…è´¹APIé…é¢é™åˆ¶ âš ï¸

æ‚¨çš„å¤–éƒ¨APIä¸ºå…è´¹å±‚çº§ï¼Œæ¯ä¸ªAPIæ¯æœˆæœ‰è°ƒç”¨æ¬¡æ•°é™åˆ¶ï¼š

| APIæœåŠ¡ | æœˆåº¦é…é¢ | æ¯æ—¥ç­–ç•¥ | æœˆåº¦æ¶ˆè€— |
|---------|----------|----------|----------|
| Twitter Trends By Location | 100æ¬¡/æœˆ | 1æ¬¡/å¤© | 30æ¬¡/æœˆ âœ… |
| ReddAPI | 50æ¬¡/æœˆ | 1æ¬¡/å¤© | 30æ¬¡/æœˆ âœ… |
| Social Media Master (YouTube) | 70æ¬¡/æœˆ | 1æ¬¡/å¤© | 30æ¬¡/æœˆ âœ… |

**è°ƒç”¨ç­–ç•¥**ï¼šæ¯å¤©æœ€å¤šè°ƒç”¨1æ¬¡ï¼Œç¡®ä¿ä¸€ä¸ªæœˆä¸è¶…è¿‡æœ€ä½é…é¢(50æ¬¡)ï¼Œç•™æœ‰20æ¬¡ä½™é‡ç”¨äºè°ƒè¯•å’Œæµ‹è¯•ã€‚

### å¤–éƒ¨APIç‹¬ç«‹è°ƒåº¦å™¨ ğŸ•

ä¸ºäº†é¿å…è¶…å‡ºå…è´¹é…é¢ï¼Œåˆ›å»ºäº†ç‹¬ç«‹çš„å¤–éƒ¨APIè°ƒåº¦å™¨ï¼š

#### æ–‡ä»¶ï¼š`external_scheduler.py`

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- âœ… æ¯å¤©è‡ªåŠ¨è°ƒç”¨1æ¬¡ï¼ˆé»˜è®¤å‡Œæ™¨2ç‚¹ï¼‰
- âœ… è‡ªåŠ¨æ£€æµ‹å½“å¤©æ˜¯å¦å·²è°ƒç”¨ï¼ˆé˜²æ­¢é‡å¤è°ƒç”¨ï¼‰
- âœ… æœˆåº¦è°ƒç”¨æ¬¡æ•°ç»Ÿè®¡
- âœ… çŠ¶æ€æ–‡ä»¶è®°å½•ï¼ˆ`data/external_api_status.json`ï¼‰
- âœ… æ•°æ®ä¿å­˜åˆ°ç‹¬ç«‹æ–‡ä»¶ï¼ˆ`data/external_YYYYMMDD_HHMMSS.json`ï¼‰

#### ä½¿ç”¨æ–¹æ³•ï¼š

**1. æµ‹è¯•æ¨¡å¼ï¼ˆåªæ‰§è¡Œä¸€æ¬¡ï¼‰**
```bash
python3 external_scheduler.py --once
```

**2. å®šæ—¶è¿è¡Œï¼ˆé»˜è®¤å‡Œæ™¨2ç‚¹ï¼‰**
```bash
python3 external_scheduler.py
```

**3. è‡ªå®šä¹‰æ‰§è¡Œæ—¶é—´**
```bash
# æ¯å¤©å‡Œæ™¨3ç‚¹æ‰§è¡Œ
python3 external_scheduler.py --hour 3

# æ¯å¤©ä¸­åˆ12ç‚¹æ‰§è¡Œ
python3 external_scheduler.py --hour 12
```

**4. åå°è¿è¡Œï¼ˆæ¨èï¼‰**
```bash
# ä½¿ç”¨nohup
nohup python3 external_scheduler.py > logs/external_api.log 2>&1 &

# æˆ–ä½¿ç”¨screen
screen -S external_api
python3 external_scheduler.py
# æŒ‰ Ctrl+A ç„¶å D åˆ†ç¦»
```

#### ç³»ç»Ÿé›†æˆï¼š

**æ–¹æ³•1ï¼šç‹¬ç«‹è¿è¡Œ**ï¼ˆæ¨èï¼‰
```bash
# ä¸»çˆ¬è™«ï¼šæ¯30åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ï¼ˆä¸­æ–‡å¹³å°ï¼‰
python3 scheduler.py --interval 30

# å¤–éƒ¨APIï¼šæ¯å¤©è¿è¡Œä¸€æ¬¡ï¼ˆå¤–å›½å¹³å°ï¼‰
python3 external_scheduler.py --hour 2
```

**æ–¹æ³•2ï¼šsystemdæœåŠ¡**ï¼ˆUbuntuæœåŠ¡å™¨ï¼‰

åˆ›å»º `/etc/systemd/system/hotsearch-external.service`:

```ini
[Unit]
Description=External API Scheduler (Daily)
After=network.target

[Service]
Type=simple
User=your_username
WorkingDirectory=/path/to/çƒ­ç‚¹çˆ¬å–
ExecStart=/usr/bin/python3 external_scheduler.py --hour 2
Restart=always
RestartSec=3600

[Install]
WantedBy=multi-user.target
```

å¯åŠ¨æœåŠ¡ï¼š
```bash
sudo systemctl enable hotsearch-external
sudo systemctl start hotsearch-external
sudo systemctl status hotsearch-external
```

### å¤–éƒ¨APIæ•°æ®æ ¼å¼ä¿®å¤ âœ…

#### Twitter API - å·²ä¿®å¤ âœ…

**é—®é¢˜**ï¼šåŸæ¥çš„æ•°æ®è§£æè·¯å¾„ä¸æ­£ç¡®ï¼Œå¯¼è‡´è¿”å›ç©ºæ•°ç»„  
**ä¿®å¤**ï¼šæ›´æ–°è§£æè·¯å¾„ä¸º `result['trending']['trends']`  
**æµ‹è¯•ç»“æœ**ï¼šâœ… æˆåŠŸè·å–40æ¡Twitterè¶‹åŠ¿æ•°æ®

**æ•°æ®æ ¼å¼**ï¼š
```json
{
  "platform": "Twitter",
  "location": "United States",
  "location_type": "Country",
  "timestamp": "2025-10-23T20:40:31",
  "data": [
    {
      "id": "#oufc",
      "title": "#oufc",
      "desc": "Rank 1",
      "url": "https://twitter.com/search?q=%22%23oufc%22",
      "hot": 0,
      "rank": 1,
      "domain": "",
      "timestamp": 1729708831000
    },
    {
      "id": "Hillary",
      "title": "Hillary",
      "desc": "Rank 3 | Politics",
      "url": "https://twitter.com/search?q=%22Hillary%22",
      "hot": 68400,
      "rank": 3,
      "domain": "Politics",
      "timestamp": 1729708831000
    }
  ]
}
```

#### Reddit API - å¾…ä¿®å¤ â¸ï¸

**çŠ¶æ€**ï¼šAPIç«¯ç‚¹ä¸å­˜åœ¨ï¼Œéœ€è¦åœ¨RapidAPIæ§åˆ¶å°æŸ¥çœ‹æ­£ç¡®ç«¯ç‚¹  
**é”™è¯¯ä¿¡æ¯**ï¼š`Endpoint '/hot' does not exist`  
**è§£å†³æ–¹æ¡ˆ**ï¼šç™»å½• RapidAPI â†’ æŸ¥çœ‹ ReddAPI æ–‡æ¡£ â†’ æ›´æ–°æ­£ç¡®ç«¯ç‚¹

#### YouTube API - å¾…ä¿®å¤ â¸ï¸

**çŠ¶æ€**ï¼šAPIç«¯ç‚¹ä¸å­˜åœ¨ï¼Œéœ€è¦åœ¨RapidAPIæ§åˆ¶å°æŸ¥çœ‹æ­£ç¡®ç«¯ç‚¹  
**é”™è¯¯ä¿¡æ¯**ï¼š`Endpoint '/trending' does not exist`  
**è§£å†³æ–¹æ¡ˆ**ï¼šç™»å½• RapidAPI â†’ æŸ¥çœ‹ Social Media Master æ–‡æ¡£ â†’ æ›´æ–°æ­£ç¡®ç«¯ç‚¹

### é…é¢ç›‘æ§å’Œä¿æŠ¤ ğŸ“Š

#### çŠ¶æ€æ–‡ä»¶ï¼š`data/external_api_status.json`

```json
{
  "last_crawl_time": "2025-10-23T20:40:31",
  "total_calls_this_month": 1
}
```

**ä¿æŠ¤æœºåˆ¶**ï¼š
- âœ… æ¯æ—¥é™åˆ¶æ£€æŸ¥ï¼ˆåŒä¸€å¤©åªå…è®¸è°ƒç”¨1æ¬¡ï¼‰
- âœ… æœˆåº¦ç»Ÿè®¡ï¼ˆè‡ªåŠ¨é‡ç½®åˆ°ä¸‹ä¸ªæœˆï¼‰
- âœ… çŠ¶æ€æŒä¹…åŒ–ï¼ˆç¨‹åºé‡å¯ä¸å½±å“é™åˆ¶ï¼‰
- âœ… æ—¥å¿—è®°å½•ï¼ˆæ‰€æœ‰è°ƒç”¨éƒ½æœ‰æ—¥å¿—å¯æŸ¥ï¼‰

**é¢„æœŸæœˆåº¦æ¶ˆè€—**ï¼š
- æ­£å¸¸è¿è¡Œï¼š30æ¬¡/æœˆï¼ˆæ¯æœˆ30å¤©ï¼‰
- ä½™é‡ä¿ç•™ï¼š20æ¬¡ï¼ˆç”¨äºè°ƒè¯•å’Œè¡¥æ¼ï¼‰
- å®‰å…¨ä½™é‡ï¼š67%ï¼ˆ20/30ï¼‰

### æ•°æ®é‡‡é›†è®¡åˆ’ ğŸ“ˆ

#### ä¸­æ–‡å¹³å°ï¼ˆç°æœ‰ç³»ç»Ÿï¼‰
- **é¢‘ç‡**ï¼šæ¯30åˆ†é’Ÿ1æ¬¡
- **å¹³å°æ•°**ï¼š16ä¸ªï¼ˆå“”å“©å“”å“©ã€å¾®åšã€çŸ¥ä¹ã€æŠ–éŸ³ç­‰ï¼‰
- **æ—¥æ•°æ®é‡**ï¼š48æ¬¡ Ã— 16å¹³å° Ã— 50æ¡/å¹³å° â‰ˆ 38,400æ¡/å¤©
- **å­˜å‚¨æ–¹å¼**ï¼šSQLiteæ•°æ®åº“ + JSONæ–‡ä»¶

#### å¤–å›½å¹³å°ï¼ˆæ–°å¢ç³»ç»Ÿï¼‰
- **é¢‘ç‡**ï¼šæ¯å¤©1æ¬¡
- **å¹³å°æ•°**ï¼š1ä¸ªï¼ˆTwitterï¼ŒReddit/YouTubeå¾…ä¿®å¤ï¼‰
- **æ—¥æ•°æ®é‡**ï¼š1æ¬¡ Ã— 1å¹³å° Ã— 40æ¡/å¹³å° = 40æ¡/å¤©
- **å­˜å‚¨æ–¹å¼**ï¼šJSONæ–‡ä»¶

#### æ€»æ•°æ®é‡é¢„ä¼°

| æ—¶é—´å‘¨æœŸ | ä¸­æ–‡å¹³å° | å¤–å›½å¹³å° | æ€»è®¡ |
|---------|---------|---------|------|
| 1å¤© | 38,400æ¡ | 40æ¡ | 38,440æ¡ |
| 1å‘¨ | 268,800æ¡ | 280æ¡ | 269,080æ¡ |
| 1æœˆ | 1,152,000æ¡ | 1,200æ¡ | 1,153,200æ¡ |
| 3æœˆ | 3,456,000æ¡ | 3,600æ¡ | 3,459,600æ¡ |

**å­˜å‚¨å®¹é‡é¢„ä¼°**ï¼š
- SQLiteæ•°æ®åº“ï¼š~150MB/æœˆ
- JSONæ–‡ä»¶ï¼š~800MB/æœˆ
- æ€»è®¡ï¼š~950MB/æœˆ

### å­¦æœ¯ç ”ç©¶ä»·å€¼ ğŸ“

#### 1. æ—¶é—´åºåˆ—é¢„æµ‹
- **ä¸­æ–‡å¹³å°**ï¼š30åˆ†é’Ÿç²’åº¦ï¼Œé«˜é¢‘æ—¶åºæ•°æ®ï¼Œé€‚åˆçŸ­æœŸé¢„æµ‹æ¨¡å‹
- **å¤–å›½å¹³å°**ï¼šæ—¥ç²’åº¦ï¼Œé•¿æœŸè¶‹åŠ¿æ•°æ®ï¼Œé€‚åˆè¶‹åŠ¿åˆ†æ

#### 2. ç®—æ³•æ²»ç†
- **è·¨å¹³å°å¯¹æ¯”**ï¼šä¸­å¤–å¹³å°æ¨èç®—æ³•è¡Œä¸ºå·®å¼‚åˆ†æ
- **çƒ­ç‚¹ç”Ÿå‘½å‘¨æœŸ**ï¼šä»å‡ºç°åˆ°æ¶ˆå¤±çš„å®Œæ•´è½¨è¿¹è¿½è¸ª

#### 3. èˆ†æƒ…åˆ†æ
- **è¯é¢˜ä¼ æ’­**ï¼šçƒ­ç‚¹åœ¨ä¸åŒå¹³å°é—´çš„ä¼ æ’­è·¯å¾„
- **æƒ…æ„Ÿæ¼”åŒ–**ï¼šç»“åˆåç»­æƒ…æ„Ÿåˆ†æçš„æ—¶åºå˜åŒ–

#### 4. è·¨æ–‡åŒ–ç ”ç©¶
- **çƒ­ç‚¹å·®å¼‚**ï¼šä¸­æ–‡ç¤¾äº¤å¹³å° vs è‹±æ–‡ç¤¾äº¤å¹³å°çš„å…³æ³¨ç‚¹å·®å¼‚
- **ä¼ æ’­é€Ÿåº¦**ï¼šä¸åŒæ–‡åŒ–èƒŒæ™¯ä¸‹çƒ­ç‚¹çš„ä¼ æ’­é€Ÿåº¦å¯¹æ¯”

### åç»­ä¼˜åŒ–å»ºè®® ğŸ”®

1. **Reddit/YouTube APIä¿®å¤** - éœ€è¦æŸ¥çœ‹RapidAPIæ–‡æ¡£æ›´æ–°æ­£ç¡®ç«¯ç‚¹
2. **æ•°æ®åº“ä¼˜åŒ–** - æ·»åŠ ç´¢å¼•ã€åˆ†åŒºè¡¨æå‡æŸ¥è¯¢æ€§èƒ½
3. **æ•°æ®æ¸…æ´—** - å»é‡ã€æ ‡å‡†åŒ–ã€è´¨é‡æ§åˆ¶
4. **å¯è§†åŒ–çœ‹æ¿** - å®æ—¶çƒ­ç‚¹è¶‹åŠ¿å¯è§†åŒ–
5. **æƒ…æ„Ÿåˆ†æ** - Phase 2ï¼šé›†æˆæƒ…æ„Ÿåˆ†ææ¨¡å‹

---

**æ›´æ–°æ—¶é—´**ï¼š2025-10-23  
**ç‰ˆæœ¬**ï¼šPhase 1.1 - é…é¢ç®¡ç†ä¸è°ƒåº¦ä¼˜åŒ–
